<!doctype html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bogotá Ciudad Memoria, Centro de Memoria, Paz y Reconciliación</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="imagenes/favicon.ico" />
<link rel="shortcut icon" href="img/favicon.ico"/>
<link href="css/estilos.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="css/normalize.css" />
<link rel="stylesheet" href="fuentes/opensans_bold_macroman/stylesheet.css" />
<link rel="stylesheet" href="fuentes/opensans_extrabold_macroman/stylesheet.css" />
<link rel="stylesheet" href="fuentes/opensans_regular_macroman/stylesheet.css" />
<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="js/comandos.js" type="text/javascript"></script>
<script type="text/javascript" src="js/modernizr.js"></script>
<script type="text/javascript" src="js/prefixfree.js"></script>
<!-- SCRIPTS MAPA -->

  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
  <script type="text/javascript" src="js/gmaps.js"></script>
  <link rel="stylesheet" type="text/css" href="css/examples.css" />
  <script type="text/javascript">
    var map; 
    var miLatitud;
    var miLongitud;

    $(document).ready(function(){
      $('#instructions').empty();

      GMaps.geolocate({
        success: function(position) {
          //map.setCenter(position.coords.latitude, position.coords.longitude);
          miLatitud = position.coords.latitude;
          miLongitud = position.coords.longitude;

          map = new GMaps({
            div: '#map',
            lat: miLatitud,
            lng: miLongitud
          });

          map.addMarker({
            lat: miLatitud,
            lng: miLongitud,
            icon: 'imagenes/miUbicacion32.png',
            title: 'Mi ubicación',
            infoWindow: {
              content: '<b>Tu ubicación</b><br>Estás acá'
            }
            /*click: function(e) {
              alert('You clicked in this marker');
            }*/
          });

          //alert('Calculando ruta')
        },
        error: function(error) {
          alert('Error: '+error.message);
        },
        not_supported: function() {
          alert("Tu dispositivo no soporta geolocalización");
        },
        always: function() {
          //alert("Done!");
        }
      });

    });
    function rutaCoche(){

      $('#instructions').empty();
      map.removePolylines();
      /*map.drawRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'driving',
        strokeColor: '#131540',
        strokeOpacity: 0.6,
        strokeWeight: 6
      });*/

      map.addMarker({
        lat: 4.7127236,
        lng: -74.070168,
        icon: 'imagenes/icon.png',
        title: 'Rodrígo Lara Bonilla',
        infoWindow: {
          content: '<b>Rodrígo Lara Bonilla</b><br>Kra 58 # 127 - 59'
        }
        /*click: function(e) {
          alert('You clicked in this marker');
        }*/
      });

      map.travelRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'driving',
        step: function(e) {
          $('#instructions').append('<li>'+e.instructions+'</li>');
          $('#instructions li:eq(' + e.step_number + ')').delay(1000 * e.step_number).fadeIn(500, function() {
            //map.setCenter(e.end_location.lat(), e.end_location.lng());
            map.drawPolyline({
              path: e.path,
              strokeColor: '#131540',
              strokeOpacity: 0.6,
              strokeWeight: 6
            });  
          });
        }
      });
    }
    function rutaCaminando(){
      $('#instructions').empty();
      map.removePolylines();
      /*map.drawRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'driving',
        strokeColor: '#131540',
        strokeOpacity: 0.6,
        strokeWeight: 6
      });*/

      map.addMarker({
        lat: 4.7127236,
        lng: -74.070168,
        icon: 'imagenes/icon.png',
        title: 'Rodrígo Lara Bonilla',
        infoWindow: {
          content: '<b>Rodrígo Lara Bonilla</b><br>Kra 58 # 127 - 59'
        }
        /*click: function(e) {
          alert('You clicked in this marker');
        }*/
      });

      map.travelRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'WALKING',
        step: function(e) {
          $('#instructions').append('<li>'+e.instructions+'</li>');
          $('#instructions li:eq(' + e.step_number + ')').delay(1000 * e.step_number).fadeIn(500, function() {
            //map.setCenter(e.end_location.lat(), e.end_location.lng());
            map.drawPolyline({
              path: e.path,
              strokeColor: '#131540',
              strokeOpacity: 0.6,
              strokeWeight: 6
            });  
          });
        }
      });
    }
    function rutaCicla(){
      $('#instructions').empty();
      map.removePolylines();
      /*map.drawRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'driving',
        strokeColor: '#131540',
        strokeOpacity: 0.6,
        strokeWeight: 6
      });*/

      map.addMarker({
        lat: 4.7127236,
        lng: -74.070168,
        icon: 'imagenes/icon.png',
        title: 'Rodrígo Lara Bonilla',
        infoWindow: {
          content: '<b>Rodrígo Lara Bonilla</b><br>Kra 58 # 127 - 59'
        }
        /*click: function(e) {
          alert('You clicked in this marker');
        }*/
      });

      map.travelRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'BICYCLING',
        step: function(e) {
          $('#instructions').append('<li>'+e.instructions+'</li>');
          $('#instructions li:eq(' + e.step_number + ')').delay(1000 * e.step_number).fadeIn(500, function() {
            //map.setCenter(e.end_location.lat(), e.end_location.lng());
            map.drawPolyline({
              path: e.path,
              strokeColor: '#131540',
              strokeOpacity: 0.6,
              strokeWeight: 6
            });  
          });
        }
      });
    }
    function rutaBus(){
      $('#instructions').empty();
      map.removePolylines();
      /*map.drawRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'driving',
        strokeColor: '#131540',
        strokeOpacity: 0.6,
        strokeWeight: 6
      });*/

      map.addMarker({
        lat: 4.7127236,
        lng: -74.070168,
        icon: 'imagenes/icon.png',
        title: 'Rodrígo Lara Bonilla',
        infoWindow: {
          content: '<b>Rodrígo Lara Bonilla</b><br>Kra 58 # 127 - 59'
        }
        /*click: function(e) {
          alert('You clicked in this marker');
        }*/
      });

      map.travelRoute({
        origin: [miLatitud, miLongitud],
        destination: [4.712820, -74.070168],
        travelMode: 'TRANSIT',
        step: function(e) {
          $('#instructions').append('<li>'+e.instructions+'</li>');
          $('#instructions li:eq(' + e.step_number + ')').delay(1000 * e.step_number).fadeIn(500, function() {
            //map.setCenter(e.end_location.lat(), e.end_location.lng());
            map.drawPolyline({
              path: e.path,
              strokeColor: '#131540',
              strokeOpacity: 0.6,
              strokeWeight: 6
            });  
          });
        }
      });
    }
  </script>
</head>

<body>
	<div id="contenedor">
    	<header>
        	<input type="image" src="imagenes/menu.svg" alt="Menú" value="Mostrar / Ocultar" id="menuicono" />
        	<nav>
            	<ul id="menu">
                	<li id="sobre"><a href="index.html" target="_self">Sobre Bogotá Ciudad <wbr>Memoria</a></li>
                    <li id="centro"><a href="centro.html" target="_self">Centro de Memoria, Paz y <wbr>Reconciliación</a></li>
                    <li id="mapa"><a href="mapa.html" target="_self">Mapa Histórico</a></li>
                    <li id="sobre"><a href="rutas.html" target="_self">Rutas Temáticas</a></li>
                    <li id="sitio"><a href="buscar.html" target="_self">Buscar Sitio de Memoria</a></li>
                    <li id="cerca"><a href="cerca.html" target="_self">Estoy Cerca de...</a></li>
                </ul>
  </nav>
        	<img id="memoria" src="imagenes/titulo_app_mobil.svg" alt="Bogotá ciudad memoria" />
        	<img id="logo" src="imagenes/logo.svg" alt="Centro de Memoria, paz y reconciliación" />
        </header>
        <section>
        	<div id="titulo_seccion">
            	<img class="seccion_icono" src="imagenes/icono_seccion.svg" alt="Sobre Bogotá Ciudad Memoria" />
                <h1>Mapa Histórico</h1>            	
            </div>
            <article>
            	<h3>Usaquén</h3>
                <a class="flecha_atras" href="#" target="_self"></a>                    
                <div class="contenedor_hechos">
            		<div class="datos_hecho">                		
                    	<div class="datos">
                        	<img class="imagen_hecho" src="imagenes/hecho_memoria01.svg" alt="Rodrigo Lara Bonilla" />                        
                    		<h4>Rodrigo Lara Bonilla</h4>
                    		<p class="p_evento">Carrera 58 No. 127 - 59</p>
                        </div><!--datos-->
                        <div id="menu_recursos">
                        	<a href="videos.html" target="_self"><img src="imagenes/boton_videos.svg" alt="Videos" /></a>
                            <a href="audios.html" target="_self"><img src="imagenes/boton_audios.svg" alt="Audios" /></a>
                            <a href="imagenes.html" target="_self"><img src="imagenes/boton_imagenes.svg" alt="Imágenes" /></a>
                        </div><!--menu_recursos-->
                    </div> <!--datos_hecho-->           	
                	<div class="info_hecho">
            			<h2>Cómo llegar</h2>
                        <div id="map"></div>
                        <button onclick="rutaCoche()">En Coche</button>
                        <button onclick="rutaCaminando()">Caminando</button>
                        <button onclick="rutaCicla()">En Bicicleta</button>
                        <button onclick="rutaBus()">En Bus</button>
                        <ul id="instructions"></ul>
                	</div><!--info_hecho-->
                    <div class="botones_regresar">
                    	<a class="regresar" href="mapa.html" target="_self"><img src="imagenes/icono_mapa.svg" alt="Volver a Mapa" />Volver a Mapa</a>
                        <a class="regresar" href="localidad01.html" target="_self"><img src="imagenes/icono_centro.svg" alt="Volver a Localidad" />Volver a Localidad</a>
                    </div><!--botones regresar-->
                </div><!--contenedor_hechos-->
                <a class="flecha_adelante" href="#" target="_self"></a>
            </article>
            <div class="sociales"></div>
        </section>
        <footer>
        	<img id="dignificar" src="imagenes/Logo-AltaConsejeria.svg" alt="Alta Consejería" />
        	<img id="humana" src="imagenes/bogota_humana.svg" alt="Alcaldía de Bogotá, Bogotá Humana" />
        </footer>
    </div><!--contenedor-->
</body>
</html>
